# EXAID Evaluation - Variant V1 Configuration
# Turn-End Only (Ablation: removes TokenGate and BufferAgent)
#
# Paper hook: "V1 triggers summarization only at turn boundaries,
# bypassing TokenGate accumulation and BufferAgent filtering (Section 4.2)"

variant_id: V1
name: "Turn-End Only"
description: "Summarize at turn boundaries only, no TokenGate or BufferAgent"

# Trigger policy enum (for ablation suite)
trigger_policy: "turn_end"

# Component configuration
components:
  # TokenGate: DISABLED (trigger on turn boundary instead)
  token_gate:
    enabled: false
  
  # BufferAgent: DISABLED (summarize directly)
  buffer_agent:
    enabled: false
  
  # Summarizer: generates summaries
  summarizer:
    enabled: true

# Turn-end trigger configuration
turn_trigger:
  # Trigger when turn_end event occurs (from turn_boundary records)
  # Note: Turn boundaries are derived from explicit turn_boundary records in trace
  enabled: true
  # Legacy field name (not used - triggers come from ReplayEvent.event_type == "turn_end")
  field: "is_turn_end"
  value: true

# Summarizer settings
summarizer:
  # MANDATORY: history_k = 3 for all variants
  history_k: 3

# Metrics role
metrics_role: "ablation_no_tokengate_no_buffer"

# Concept extractor (inherit from extractor.yaml)
concept_extractor:
  inherit_from: "extractor.yaml"
